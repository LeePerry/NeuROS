{
    "nodes" : [{
        "name"        : "brain",
        "container"   : "neuros_python",
        "plugin"      : "brain.py",
        "inputs"      : [{ "name" : "ground_truth", "type" : "geometry_msgs.msg.PoseStamped" },
                         { "name" : "camera", "type" : "sensor_msgs.msg.Image" }],
        "outputs"     : [{ "name" : "neck_pos_cmd",  "type" : "std_msgs.msg.Float32MultiArray" },
                         { "name" : "robot_vel_cmd", "type" : "std_msgs.msg.Float32MultiArray" }],
        "environment" : { "NEUROS_ROTATION_SPEED" : 0.1 }
      }, {
        "name"        : "physics",
        "container"   : "neuros_gazebo",
        "plugin"      : "physics.py",
        "inputs"      : [{ "name"           : "neck_pos_cmd",
                           "type"           : "std_msgs.msg.Float32MultiArray" },
                         { "name"           : "robot_vel_cmd",
                           "type"           : "std_msgs.msg.Float32MultiArray" },
                         { "name"           : "_ground_truth",
                           "type"           : "geometry_msgs.msg.PoseStamped",
                           "external_topic" : "/model/whiskeye_robot/pose",
                           "gazebo_type"    : "gz.msgs.Pose" },
                         { "name"           : "_camera",
                           "type"           : "sensor_msgs.msg.Image",
                           "external_topic" : "/whiskeye/head/cam0/image_raw",
                           "gazebo_type"    : "gz.msgs.Image" }],
        "outputs"     : [{ "name" : "ground_truth", "type" : "geometry_msgs.msg.PoseStamped" },
                         { "name" : "camera", "type" : "sensor_msgs.msg.Image" },
                         { "name"           : "_body_neck_pos",
                           "type"           : "std_msgs.msg.Float64",
                           "external_topic" : "/whiskeye/body_neck/pos_cmd",
                           "gazebo_type"    : "gz.msgs.Double" },
                         { "name"           : "_neck_gmbl_pos",
                           "type"           : "std_msgs.msg.Float64",
                           "external_topic" : "/whiskeye/neck_gmbl/pos_cmd",
                           "gazebo_type"    : "gz.msgs.Double" },
                         { "name"           : "_gmbl_head_pos",
                           "type"           : "std_msgs.msg.Float64",
                           "external_topic" : "/whiskeye/gmbl_head/pos_cmd",
                           "gazebo_type"    : "gz.msgs.Double" },
                         { "name"           : "_pose_x_vel",
                           "type"           : "std_msgs.msg.Float64",
                           "external_topic" : "/whiskeye/pose_x/vel_cmd",
                           "gazebo_type"    : "gz.msgs.Double" },
                         { "name"           : "_pose_y_vel",
                           "type"           : "std_msgs.msg.Float64",
                           "external_topic" : "/whiskeye/pose_y/vel_cmd",
                           "gazebo_type"    : "gz.msgs.Double" },
                         { "name"           : "_pose_theta_vel",
                           "type"           : "std_msgs.msg.Float64",
                           "external_topic" : "/whiskeye/pose_theta/vel_cmd",
                           "gazebo_type"    : "gz.msgs.Double" }],
        "environment" : {
            "GZ_SIM_RESOURCE_PATH"      : "#resources",
            "NEUROS_WORLD"              : "world/model.sdf",
            "NEUROS_ROBOT"              : "robot/model.sdf"
        }
    }],
    "connections" : [{
        "source_node"       : "physics",
        "source_output"     : "ground_truth",
        "destination_node"  : "brain",
        "destination_input" : "ground_truth",
        "discard_limit"     : 0
    }, {
        "source_node"       : "physics",
        "source_output"     : "camera",
        "destination_node"  : "brain",
        "destination_input" : "camera",
        "discard_limit"     : 0
    }, {
        "source_node"       : "brain",
        "source_output"     : "neck_pos_cmd",
        "destination_node"  : "physics",
        "destination_input" : "neck_pos_cmd",
        "discard_limit"     : 0
    }, {
        "source_node"       : "brain",
        "source_output"     : "robot_vel_cmd",
        "destination_node"  : "physics",
        "destination_input" : "robot_vel_cmd",
        "discard_limit"     : 0
    }]
}
